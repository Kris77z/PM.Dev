# AI 提示词文档 (V3 - Split Tech Docs)

本文档记录了用于与 AI 模型交互以生成各种产品文档的提示词，旨在生成更详细、更符合编码指南要求的输出。

## 1. 通用系统提示 (System Prompt)

```
你是一位经验丰富的产品经理 AI 助手。你的目标是根据用户的输入，帮助他们定义、规划和完善软件产品功能。请使用清晰、结构化的 Markdown 格式生成回应。在生成文档时，请尽可能详细和具体，力求覆盖 AI 编码指南中提到的相关要素。
```

---

## 2. 特定任务用户提示 (User Prompts)

这些提示根据具体的文档生成任务使用。

### 2.1 生成产品定义文档 (`case 'product'`)

**用户提示 (User Prompt):**

```text
请根据以下用户输入，生成一份详细的产品定义文档（PRD）初稿：

```json
${productData} // 用户表单输入的占位符 (JSON)
```

文档应包含以下部分：
1.  **产品概述:** 结合产品概念和目标平台进行描述。
2.  **目标用户:** 描述目标用户画像。
3.  **核心价值主张:** 阐述产品解决的核心问题和提供的价值。
4.  **关键功能列表:** 清晰列出核心功能。
5.  **关键用户场景/流程:** (重要！) 基于用户提供的核心功能和"关键用户流程示例"(key_user_flow_examples)，为每个核心功能设想一个典型的用户使用场景，并用几句话**详细描述**用户完成该场景的主要步骤。
6.  **初步技术栈建议:** 根据产品平台和功能，建议一个初步的技术栈（例如：前端框架、后端语言/框架、数据库类型），并简述选择原因。
7.  **范围说明与未来考虑:** (如果用户提供了 scope_future_considerations) 明确当前版本包含/不包含的内容，以及未来可能的扩展方向。

请确保语言专业、清晰，并尽可能详细具体。
```

### 2.2 生成页面规划文档 (`case 'page'`)

**用户提示 (User Prompt):**

```text
请根据以下规划的页面数据，生成一份**详细的应用流程文档 (App Flow Document)**：

```json
${pageData} // 用户页面规划数据的占位符 (JSON)
```

请执行以下操作：
1.  对于列表中的**每一个页面**，请结合用户填写的页面目的 (purpose)、核心功能/操作 (coreFunctionality) 和用户流程 (userFlow)，进行清晰、详细的描述。 **同时，请根据该页面的页面名称和目的，为其建议一个合适的组件文件名（使用 PascalCase 命名法，并以 `.tsx` 结尾，例如：根据'个人中心'页面生成 `UserProfilePage.tsx`）。**
2.  (重要！) 基于用户填写的"页面间流转描述"(flowDescription)，**使用清晰、连贯的叙述性语言，详细描述用户如何在各个页面之间导航**。请明确指出**触发页面跳转的具体操作**（例如：'用户在首页点击【登录】按钮后，跳转到登录页...'）。**请避免简单罗列要点，而是生成流畅的、完整的用户路径说明。**
3.  如果合适，可以增加一个讨论整体导航模式（如标签栏、侧边菜单等）或关键交互模式的部分。

请确保文档结构清晰，流程描述准确详尽，并包含建议的文件名。
```

### 2.3 生成技术栈文档 (`case 'techStack'`)

**用户提示 (User Prompt):**

```text
请根据以下技术选型和偏好，生成一份详细的技术栈文档 (Tech Stack Document)：

```json
${techData} // 用户技术选项的占位符 (JSON)
```

文档应包含以下部分：
1.  **核心技术选型:** 清晰列出选定的后台技术 (backend_tech, 如果适用), 架构风格 (architecture_style, 如果适用), 数据库类型 (db_type, 如果适用), API 风格 (api_style, 如果适用), UI 库 (ui_library), 图标库 (icon_library)。
2.  **关键依赖与工具:** 列出用户明确指定的"已知的关键依赖包"(known_key_dependencies) 和 "其他库或工具"(other_libraries)。
3.  **推断的核心依赖包:** (重要！) 根据核心技术选型，**推断并建议一些核心的依赖包**（例如："若选择 Next.js, PostgreSQL, Shadcn/UI，建议的核心依赖可能包括 `next`, `react`, `pg`, `tailwindcss`, `lucide-react` 等"）。
4.  **第三方 API:** 列出计划集成的"第三方 API"(third_party_apis)，并包含其文档链接 (third_party_api_docs)（如果提供）。

请确保只包含与技术栈直接相关的信息。
```

### 2.4 生成后端结构文档 (`case 'backendStructure'`)

**用户提示 (User Prompt):**

```text
请根据以下用户输入，生成一份详细的后端结构文档 (Backend Structure Document)。仅当项目类型为"全栈项目"时生成此文档的核心内容。

```json
${techData} // 用户技术选项的占位符 (JSON)
```

如果项目类型为"全栈项目"，文档应包含以下部分：
1.  **数据库类型:** 明确用户选择的数据库类型 (db_type)。
2.  **核心数据实体与关系:** 列出"核心数据实体"(core_entities)，并描述它们之间的"主要关系"(entity_relationships)。
3.  **初步数据库表结构建议:** (重要！) **为每个核心实体生成一个建议的数据库表结构示例（包含字段名和建议类型）**。体现实体关系（如外键）。
4.  **用户认证:** 如果需要认证 (needs_authentication = '是')，描述选择的"首选认证方式"(preferred_auth_methods)，并**在表结构建议中包含认证相关字段**（如 `users` 表的 `password_hash`, 或 `user_social_logins` 表）。
5.  **文件存储:** 如果有"文件/媒体存储需求"(file_storage_needs)，描述需求，并在**表结构建议中包含相关字段**（如 `avatar_url`）。
6.  **核心 API 端点建议:** 基于所选的 API 风格 (api_style)，**列举一些核心功能的示例 API 端点** (例如："`/api/auth/login`, `/api/products`, `/api/users/me` 等")。明确指出这只是初步建议。

如果项目类型不是"全栈项目"，请输出"根据项目类型，无需生成后端结构文档。"
```

### 2.5 生成前端规范文档 (`case 'frontendGuidelines'`)

**用户提示 (User Prompt):**

```text
请根据以下用户输入，生成一份详细的前端规范文档 (Frontend Guidelines Document)。仅当项目类型不是"纯前端项目 (静态页面为主...)"时生成此文档的核心内容。

```json
${techData} // 用户技术选项的占位符 (JSON)
```

如果项目类型需要前端规范，文档应包含以下部分：
1.  **UI 库:** 明确选择的 UI 库 (ui_library)。
2.  **视觉风格:** 描述应用的整体视觉风格偏好 (visual_style)。
3.  **色彩搭配:** 基于主色调 (primary_color) 和品牌色/辅助色 (brand_accent_colors)，**建议明确的主色、辅助色、背景色、文本色搭配方案**（请提供色值或描述）。
4.  **字体:** 如果用户指定了"首选字体名称"(preferred_font_name)，明确使用该字体；否则根据视觉风格推荐一个通用字体（如 Inter, Sans-serif），并**建议基础字号使用规则**。
5.  **间距与布局:** 根据用户的"间距/布局系统偏好"(spacing_layout_preference) 或 UI 库的特点，**提出明确的基础间距原则**（例如，"推荐使用 Tailwind CSS 标准间距单位，基础单位 4px" 或 "所有组件间距使用 8pt 网格的倍数"）。
6.  **图标使用:** 明确使用的图标库 (icon_library) 并提供**简单的使用示例或建议**。

如果项目类型是"纯前端项目 (静态页面为主...)"，请输出"根据项目类型，可简化前端规范或无需生成详细文档。"
```

### 2.6 生成优化方案文档 (`case 'optimize'`)

**用户提示 (User Prompt):**

```text
请根据以下关于优化现有功能/页面的信息，生成一份概要文档：

```json
${optimizeData} // 优化表单数据的占位符 (JSON)
```

请突出显示已识别的问题/PRD 摘要、优化目标、建议的解决方案和技术讨论要点。请清晰地组织文档结构以便审阅。
```

### 2.7 生成新增功能文档 (`case 'addFeature'`)

**用户提示 (User Prompt):**

```text
请根据以下输入，生成一份新增功能定义文档初稿：

```json
${addFeatureData} // 新增功能表单数据的占位符 (JSON)
```

文档应包含以下部分：功能目标与价值、目标用户、核心工作流程以及与现有功能的交互。请确保清晰说明该功能的目的和范围。
```

### 2.8 修改现有文档 (`case 'modification'`)

**补充系统提示片段 (Additional System Prompt Snippet):**

```
你将收到一份现有的文档草稿和用户的修改请求。请根据请求修订文档，并提供完整的、更新后的文档。请注意保持文档的结构和详细程度。
```

**用户提示 (User Prompt):**

```text
请根据我的请求修订以下文档。

**原始文档:**
```markdown
${data.originalDocument} // 当前文档内容的占位符
```

**我的修订请求:**
${data.modificationRequest} // 用户修改请求文本的占位符

请提供完整的、修订后的 Markdown 格式文档。
```

---

*注意: `${...}` 占位符代表在运行时动态插入的数据。* 