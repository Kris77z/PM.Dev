# Ask Anything 功能文档

## 功能概述

Ask Anything 是一个专业的文档和文稿助手页面，提供多种AI代理来帮助用户处理不同类型的文档任务。

## 功能特性

### 1. 简洁的用户界面
- 参考 Aceternity UI 的设计风格
- 大标题 + 对话框的简洁布局
- 响应式设计，适配不同屏幕尺寸
- 集成侧边栏导航，提供更好的用户体验

### 2. 多模型支持
支持以下AI模型（首字母大写显示）：
- `GPT-4o` - OpenAI GPT-4 Omni
- `Claude-3.5-Sonnet` - Anthropic Claude 3.5 Sonnet
- `Gemini-2.0-Flash` - Google Gemini 2.0 Flash
- `Gemini-2.5-Pro-Preview-05-06` - Google Gemini 2.5 Pro Preview
- `DeepSeek: R1 0528` - DeepSeek R1

**图标系统**：
- 使用 [Lobe Icons](https://github.com/lobehub/lobe-icons) 库提供的专业 AI 模型图标
- **彩色品牌图标**：优先使用官方品牌颜色的彩色版本图标，提升视觉识别度
- 通过 CDN 加载 SVG 格式图标，确保清晰度和性能
- **智能降级机制**：彩色图标加载失败时自动降级到单色版本
- 支持深色模式自适应

**官方品牌颜色**：
- OpenAI: 黑色主题 (#000)
- Claude: 橙棕色 (#D97757) 
- Gemini: 蓝色渐变 (#1C69FF)
- DeepSeek: 蓝紫色 (#4D6BFE)

### 3. 侧边栏导航
提供完整的侧边栏导航系统：
- **New Chat**: 开始新的对话
- **Recent Chats**: 历史对话记录（可收起展开）
- **Prompt House**: 提示词工程工具
- **PRD House**: 产品需求文档工具 (待开发)
- **Infinite Canvas**: 无限画布工具 (待开发)
- **Prototype House**: 原型设计工具 (待开发)
- **返回首页**: 底部导航链接

### 4. 专业AI代理
提供四个专业化的AI代理，采用Claude风格的紧凑按钮设计：

#### 运营文案代理
- **功能**: 生成营销文案和推广内容
- **图标**: 💡 Lightbulb
- **能力**: 
  - 撰写吸引人的产品文案
  - 创作社交媒体推广内容
  - 设计营销活动文案
  - 优化转化率的文案策略
  - 品牌故事和价值主张表达

#### PRD 直出代理
- **功能**: 快速生成产品需求文档
- **图标**: 📄 FileText
- **能力**:
  - 需求分析和用户故事编写
  - 功能规格说明和技术要求
  - 用户体验流程设计
  - 产品架构和信息架构
  - 验收标准和测试用例

#### Prompt House 代理
- **功能**: 优化和生成AI提示词
- **图标**: ⬜ Square
- **能力**:
  - 分析和优化现有提示词
  - 设计特定任务的提示词模板
  - 提供提示词最佳实践建议
  - 针对不同AI模型调整提示词
  - 创建系统性的提示词框架

#### 原型图代理
- **功能**: 设计产品原型和界面
- **图标**: 🎨 Palette
- **能力**:
  - 用户界面设计和布局规划
  - 交互流程和用户体验设计
  - 信息架构和导航设计
  - 响应式设计和适配方案
  - 设计系统和组件规范

## 技术实现

### 文件结构
```
src/
├── app/ask-anything/
│   └── page.tsx                 # 主页面组件
├── components/
│   ├── prompt-stash/
│   │   ├── PromptStashView.tsx  # Prompt工具主视图
│   │   └── PromptCard.tsx       # Prompt卡片组件
│   └── ui/
│       ├── animated-ai-input.tsx # AI输入组件
│       └── sidebar.tsx          # 侧边栏组件
└── config/
    └── prompts.ts               # AI代理提示词配置
```

### 核心组件

#### AnimatedAIInput
- 支持自动调整高度的文本输入
- 模型选择下拉菜单（首字母大写显示）
- 文件附件功能（预留）
- 发送按钮和快捷键支持
- 改进的DeepSeek图标设计

#### Sidebar组件
- 基于Aceternity UI的侧边栏设计
- 支持鼠标悬停展开/收起
- 移动端适配
- 分组导航结构

#### 提示词配置系统
- 集中管理所有AI代理的提示词
- 支持动态切换不同代理模式
- 可扩展的配置结构

### API集成
- 使用 `/api/chat-multi` 端点进行AI对话
- 支持流式响应
- 错误处理和重试机制

## 使用方法

### 基本使用
1. 访问 `/ask-anything` 页面
2. 选择合适的AI模型
3. 输入问题或选择快捷按钮
4. 查看AI生成的回复

### 侧边栏导航
1. 使用左侧侧边栏进行页面导航
2. 鼠标悬停可展开完整菜单
3. Recent Chats可点击收起/展开
4. 底部"返回首页"可快速回到主页

### 专业代理使用
1. 点击页面下方的快捷按钮（运营文案、PRD直出、Prompt House、原型图）
2. 系统会自动切换到对应的专业代理模式
3. **对于 "Prompt House"**, 将会加载一个完整的模板管理和测试界面。
4. 对于其他代理，后续对话将使用该代理的专业提示词

## 配置说明

### 模型配置
在 `animated-ai-input.tsx` 中的 `AI_MODELS` 数组中配置可用模型：
```typescript
const AI_MODELS = [
    "GPT-4o",
    "Claude-3.5-Sonnet",
    "Gemini-2.0-Flash",
    "Gemini-2.5-Pro-Preview-05-06",
    "DeepSeek: R1 0528",
];
```

### 提示词配置
在 `config/prompts.ts` 中配置AI代理：
```typescript
export const AGENT_PROMPTS = {
  marketing: {
    name: "运营文案",
    description: "生成营销文案和推广内容",
    systemPrompt: "...",
    defaultPrompt: "..."
  },
  // 其他代理配置...
};
```

### 侧边栏配置
在页面组件中配置侧边栏链接：
```typescript
const links = [
  {
    label: "New Chat",
    href: "/ask-anything",
    icon: <MessageSquarePlus className="..." />,
  },
];
```

## UI/UX 改进

### v1.1.0 新特性
- ✅ 集成Aceternity UI侧边栏
- ✅ 移除顶部导航栏，简化界面
- ✅ Claude风格的紧凑快捷按钮
- ✅ 模型名称首字母大写显示
- ✅ 改进的DeepSeek图标设计
- ✅ 当前代理模式状态显示
- ✅ 可收起的Recent Chats区域

### 设计原则
1. **简洁性**: 移除不必要的UI元素
2. **一致性**: 统一的图标和按钮风格
3. **可用性**: 直观的导航和操作
4. **响应式**: 适配桌面和移动端

## 待完成功能

### API Key 配置
- [ ] 支持多模型的API Key配置
- [ ] 环境变量管理
- [ ] 模型切换逻辑

### 功能增强
- [x] 对话历史保存和管理 (Recent Chats)
- [ ] 文件上传和处理
- [ ] 导出对话记录
- [ ] 自定义代理创建

### 用户体验
- [ ] 深色模式支持
- [ ] 快捷键操作
- [ ] 更多响应式优化
- [ ] 加载状态优化

#### 侧边栏功能页面实现状态
- [x] **Prompt House**: 已实现完整的模板管理和聊天测试功能。
- [ ] **PRD House**: 待实现。
- [ ] **Infinite Canvas**: 待实现。
- [ ] **Prototype House**: 待实现。

## 注意事项

1. **模型API**: 目前模型选择仅为UI展示，实际调用需要配置对应的API Key
2. **提示词优化**: 各代理的提示词可根据实际使用效果进行调整
3. **性能考虑**: 长对话可能影响响应速度，建议适时清理对话历史
4. **错误处理**: 网络异常时会显示错误信息，用户可重试

## 更新日志

### v1.3.0 (当前版本)
- ✅ 升级为彩色品牌图标，展示官方品牌颜色
- ✅ 优化图标错误处理，智能降级机制
- ✅ 提升视觉识别度和专业感
- ✅ 完善DeepSeek等模型的品牌展示

### v1.2.0
- ✅ 集成 Lobe Icons 专业图标库
- ✅ 使用 CDN 加载高质量 AI 模型图标
- ✅ 添加图标加载错误处理机制
- ✅ 优化 DeepSeek 和其他模型图标显示
- ✅ 修复历史对话图标对齐和颜色一致性
- ✅ 优化标题居中显示逻辑

### v1.1.0
- ✅ 集成Aceternity UI侧边栏组件
- ✅ 重新设计页面布局和导航
- ✅ 优化快捷按钮样式（Claude风格）
- ✅ 改进模型显示和图标设计
- ✅ 添加当前代理模式状态显示

### v1.0.0
- ✅ 基础页面布局和样式
- ✅ 多模型选择界面
- ✅ 四个专业AI代理
- ✅ 提示词配置系统
- ✅ 基础对话功能 